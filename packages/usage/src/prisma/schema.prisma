datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

generator prismaIDB {
  provider = "prisma-idb-generator"
  output   = "../lib/prisma-idb"
}

model User {
  userId        Int    @id @default(autoincrement())
  name          String @unique
  assignedTodos Todo[]
}

model Todo {
  todoId         Int     @id @default(autoincrement())
  task           String
  isCompleted    Boolean
  timeToComplete Int
  assignedUser   User?   @relation(fields: [assignedUserId], references: [userId])
  assignedUserId Int?
}

model UniqueUserModel {
  firstName String
  lastName  String

  @@unique([firstName, lastName])
}

model IDUserModel {
  firstName String
  lastName  String

  @@id([firstName, lastName])
}

model UniqueAndIdFieldsModel {
  uniqueField       Int    @unique
  uniqueStringField String @unique
  firstName         String
  lastName          String
  emailProvider     String
  emailDomain       String

  @@id([firstName, lastName])
  @@unique([emailProvider, emailDomain])
  @@unique(fields: [firstName, lastName], name: "uniqueName")
}

model OptionalFieldsModel {
  uuid                     String    @id @default(uuid())
  cuid                     String    @default(cuid())
  autoincrement            Int       @default(autoincrement())
  default                  String    @default("hi")
  defaultNum               Float     @default(3.75)
  defaultArr               String[]  @default(["hmm", "hello"])
  defaultNumArr            Int[]     @default([1, 3, 5])
  optionalField            String?
  optionalFieldWithDefault String?   @default("not null")
  dateField                DateTime
  optionalDateField        DateTime?
  defaultDateField         DateTime  @default(now())
  optionalDateWithDefault  DateTime? @default(now())
}
